 #!/bin/sh
/usr/bin/time -f "%M" ../source/bin/sisrs sites -g 1745690 -p 20 -a minia 2> output.txt
perl -pi -e 'chomp if eof' metrics_file.txt
tail -1 output.txt >> metrics_file.txt

echo "" >> metrics_file.txt 
echo "Assembler" "Size_Of_Data_Set_kiB" "Number_of_Processors" "Genome_Size_bp" "Time_Seconds" "N50" "Number_of_Contigs" "kmer_size" "missing" "Data_Set_File_Path" "variable_sites" "RAM_KB" >> metrics_file.txt


for m in 8 7 6 5 4 3 2 1 0
do
    ../source/bin/sisrs changeMissing -g 1745690 -p 20 -a minia -m ${m}
    perl -pi -e 'chomp if eof' metrics_file.txt
    head -n1 alignment_m${m}.phylip-relaxed | awk -v x=2 '{print $x}' >> metrics_file.txt
done

#When prompted in shell: Type '1' then 'enter' for yes or Type '2' then 'enter' for no